<div class="content" fxLayout="row" fxLayout.xs="column" fxFlexFill>
  <div fxFlex="20" fxFlex.xs="55">
    <div *ngIf="item && myForm" formToInject>
      <form *ngIf="item" (ngSubmit)="onSubmit()" [formGroup]="myForm">

        <!--created - string-->
        <div class="mb-1">
          <md-input-container style="width: 100%">
            <input mdInput id="fechaInput" #fechaInput [placeholder]="formMetaData.properties.fecha['x-ncg'].label" [formControl]="myForm.controls['fecha']"
              [(ngModel)]="item.fecha" type="date" /> </md-input-container>
          <small id="fechaErrorMsgs" *ngFor="let error of formMetaData.properties.fecha['x-ncg'].errors" class="md-text-warn">{{error.message}}</small>
        </div>
        <br>
        <!--created - string-->
        <div class="mb-1">
          <md-input-container style="width: 100%">
            <input mdInput id="horaInput" #horaInput [placeholder]="formMetaData.properties.hora['x-ncg'].label" [formControl]="myForm.controls['hora']"
              [(ngModel)]="item.hora" type="time" /> </md-input-container>
          <small id="horaErrorMsgs" *ngFor="let error of formMetaData.properties.hora['x-ncg'].errors" class="md-text-warn">{{error.message}}</small>
        </div>
        <br>

        <div class="mb-1">
          <!--<input id="tenantId" type="text" class="form-control" [(ngModel)]="item.tenantId" >-->
          <md-select ngControl="especialidad" [(ngModel)]="item.especialidad" [placeholder]="formMetaData.properties.especialidad['x-ncg'].label"
            [ngModelOptions]="{standalone: true}" class="md-no-underline" (change)="buscar(item.especialidad)" style="width: 100%">
            <md-option *ngFor="let opt of especialidad | async" [value]="opt.nombre">{{opt.nombre}}</md-option>
          </md-select>
        </div>
        <br>
        <div class="mb-1">
          <!--<input id="tenantId" type="text" class="form-control" [(ngModel)]="item.tenantId" >-->
          <md-select ngControl="idDoctor" [(ngModel)]="item.idDoctor" [placeholder]="formMetaData.properties.idDoctor['x-ncg'].label"
            [ngModelOptions]="{standalone: true}" style="width: 100%">
            <md-option *ngFor="let opt of doctores | async" [value]="opt.$key">{{opt.nombre}} &nbsp; {{opt.paterno}} &nbsp; {{opt.materno}}</md-option>
          </md-select>
          <md-input-container>
            <input mdInput type='text' placeholder='Introduzca CI doctor' (keyup)='updateFilter1($event)' /> </md-input-container>
        </div>

        <div class="mb-1">
          <!--<input id="tenantId" type="text" class="form-control" [(ngModel)]="item.tenantId" >-->
          <md-select ngControl="curacion" [(ngModel)]="item.curacion" [placeholder]="formMetaData.properties.curacion['x-ncg'].label"
            [ngModelOptions]="{standalone: true}" class="md-no-underline" (change)="buscar(item.curacion)" style="width: 100%">
            <md-option *ngFor="let opt of curacion | async" [value]="opt.nombre">{{opt.nombre}}</md-option>
          </md-select>
        </div>
        <br>

        <br>
        <div class="mb-1">

          <!--<input id="tenantId" type="text" class="form-control" [(ngModel)]="item.tenantId" >-->
          <md-select ngControl="idPaciente" [(ngModel)]="item.idPaciente" [placeholder]="formMetaData.properties.idPaciente['x-ncg'].label"
            [ngModelOptions]="{standalone: true}" style="width: 100%">
            <md-option *ngFor="let opt of pacientes | async" [value]="opt.$key">{{opt.nombre}} &nbsp; {{opt.paterno}} &nbsp; {{opt.materno}}</md-option>
          </md-select>
          <md-input-container>
            <input mdInput type='text' placeholder='Introduzca CI paciente' (keyup)='updateFilter($event)' /> </md-input-container>
        </div>

        <br>

        <!--valMin2Max8Length - string-->
        <div class="mb-1">
          <md-input-container style="width: 100%">
            <input mdInput id="observacion" #observacionInput [placeholder]="formMetaData.properties.observacion['x-ncg'].label" [formControl]="myForm.controls['observacion']"
              [(ngModel)]="item.observacion" type="text" /> </md-input-container>
          <small id="observacionErrorMsgs" *ngFor="let error of formMetaData.properties.observacion['x-ncg'].errors" class="md-text-warn">{{error.message}}</small>
        </div>
        <br>

        <div *ngIf="!myForm.valid" class="mb-1 ui error message">Formulario Incompleto</div>
        <div class="content" fxLayout="row" fxLayout.xs="column" fxFlexFill>
          <div fxFlex="50" fxFlex.xs="100">
            <button md-raised-button color="primary" id="backButton" type="button" class="btn btn-secondary borde" (click)="goBack()"
              [attr.aria-label]="back">Atr√°s</button>
            <button md-raised-button color="primary" id="cancelButton" type="button" class="btn btn-secondary borde" (click)="onCancel()"
              [attr.aria-label]="cancel">Cancelar</button>
          </div>
          <div fxFlex="50" fxFlex.xs="100">
            <button md-raised-button color="primary" id="resetButton" type="button" [disabled]="myForm.pristine" class="btn btn-secondary borde"
              (click)="onReset()" [attr.aria-label]="reset">Reiniciar</button>
            <button md-raised-button color="primary" id="submitButton" type="submit" [disabled]="myForm.invalid && isSubmitAttempted"
              class="btn btn-primary borde" [attr.aria-label]="submit">Guardar</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>